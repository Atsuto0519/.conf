(function() {
  var Toc,
    hasProp = {}.hasOwnProperty;

  module.exports = Toc = (function() {
    function Toc(editor) {
      var at;
      this.editor = editor;
      this.lines = [];
      this.list = [];
      this.options = {
        depthFrom: 1,
        depthTo: 6,
        withLinks: 1,
        updateOnSave: 1,
        orderedList: 0
      };
      this.create();
      at = this;
      this.editor.getBuffer().onWillSave(function() {
        if (at.options.updateOnSave === 1) {
          if (at._hasToc()) {
            at._deleteToc();
            return at.editor.setTextInBufferRange([[at.open, 0], [at.open, 0]], at._createToc());
          }
        }
      });
    }

    Toc.prototype.create = function() {
      if (this._hasToc()) {
        this._deleteToc();
        this.editor.setTextInBufferRange([[this.open, 0], [this.open, 0]], this._createToc());
      }
      return this.editor.insertText(this._createToc());
    };

    Toc.prototype.update = function() {
      if (this._hasToc()) {
        this._deleteToc();
        return this.editor.setTextInBufferRange([[this.open, 0], [this.open, 0]], this._createToc());
      } else {
        return this.editor.insertText(this._createToc());
      }
    };

    Toc.prototype["delete"] = function() {
      if (this._hasToc()) {
        return this._deleteToc();
      }
    };

    Toc.prototype.autosave = function() {
      if (this._hasToc()) {
        this._deleteToc();
        return this.editor.setTextInBufferRange([[this.open, 0], [this.open, 0]], this._createToc());
      }
    };

    Toc.prototype._hasToc = function() {
      var i, line, options;
      this.___updateLines();
      if (this.lines.length > 0) {
        this.open = false;
        this.close = false;
        options = void 0;
        for (i in this.lines) {
          line = this.lines[i];
          if (this.open === false) {
            if (line.match(/^<!--(.*)TOC(.*)-->$/g)) {
              this.open = parseInt(i);
              options = line;
            }
          } else {
            if (line.match(/^<!--(.*)\/TOC(.*)-->$/g)) {
              this.close = parseInt(i);
              break;
            }
          }
        }
        if (this.open !== false && this.close !== false) {
          if (options !== void 0) {
            this.__updateOptions(options);
            return true;
          }
        }
      }
      return false;
    };

    Toc.prototype._createToc = function() {
      var list, text;
      this.__updateList();
      if (Object.keys(this.list).length > 0) {
        text = [];
        text.push("<!-- TOC depthFrom:" + this.options.depthFrom + " depthTo:" + this.options.depthTo + " withLinks:" + this.options.withLinks + " updateOnSave:" + this.options.updateOnSave + " orderedList:" + this.options.orderedList + " -->\n");
        list = this.__createList();
        if (list !== false) {
          Array.prototype.push.apply(text, list);
        }
        text.push("\n<!-- /TOC -->");
        return text.join("\n");
      }
      return "";
    };

    Toc.prototype._deleteToc = function() {
      return this.editor.setTextInBufferRange([[this.open, 0], [this.close, 14]], "");
    };

    Toc.prototype.__updateList = function() {
      var depthFrom, depthTo, i, line, result, results;
      this.___updateLines();
      this.list = [];
      results = [];
      for (i in this.lines) {
        line = this.lines[i];
        result = line.match(/^\#{1,6}/);
        if (result) {
          depthFrom = this.options.depthFrom !== void 0 ? this.options.depthFrom : 1;
          depthTo = this.options.depthTo !== void 0 ? this.options.depthTo : 6;
          if ((result[0].length <= parseInt(depthTo)) && (result[0].length >= parseInt(depthFrom))) {
            results.push(this.list.push({
              depth: result[0].length,
              line: new String(line)
            }));
          } else {
            results.push(void 0);
          }
        } else {
          results.push(void 0);
        }
      }
      return results;
    };

    Toc.prototype.__createList = function() {
      var depthFrom, depthTo, i, indicesOfDepth, item, j, line, list, ref, ref1, ref2, row, tab;
      list = [];
      depthFrom = this.options.depthFrom !== void 0 ? this.options.depthFrom : 1;
      depthTo = this.options.depthTo !== void 0 ? this.options.depthTo : 6;
      indicesOfDepth = Array.apply(null, new Array(depthTo - depthFrom)).map(Number.prototype.valueOf, 0);
      ref = this.list;
      for (i in ref) {
        if (!hasProp.call(ref, i)) continue;
        item = ref[i];
        row = [];
        for (tab = j = ref1 = depthFrom, ref2 = item.depth; ref1 <= ref2 ? j <= ref2 : j >= ref2; tab = ref1 <= ref2 ? ++j : --j) {
          if (tab > depthFrom) {
            row.push("\t");
          }
        }
        if (this.options.orderedList === 1) {
          row.push(++indicesOfDepth[item.depth - 1] + ". ");
          indicesOfDepth = indicesOfDepth.map(function(value, index) {
            if (index < item.depth) {
              return value;
            } else {
              return 0;
            }
          });
        } else {
          row.push("- ");
        }
        line = item.line.substr(item.depth);
        line = line.trim();
        if (this.options.withLinks === 1) {
          row.push(this.___createLink(line));
        } else {
          row.push(line);
        }
        list.push(row.join(""));
      }
      if (list.length > 0) {
        return list;
      }
      return false;
    };

    Toc.prototype.__updateOptions = function(line) {
      var i, key, option, options, results, value;
      options = line.match(/(\w+(=|:)(\d|yes|no))+/g);
      if (options) {
        this.options = {};
        results = [];
        for (i in options) {
          option = options[i];
          key = option.match(/^(\w+)/g);
          key = new String(key[0]);
          value = option.match(/(\d|yes|no)$/g);
          value = new String(value[0]);
          if (value.length > 1) {
            if (value.toLowerCase().valueOf() === new String("yes").valueOf()) {
              value = 1;
            } else {
              value = 0;
            }
          }
          if (key.toLowerCase().valueOf() === new String("depthfrom").valueOf()) {
            results.push(this.options.depthFrom = parseInt(value));
          } else if (key.toLowerCase().valueOf() === new String("depthto").valueOf()) {
            results.push(this.options.depthTo = parseInt(value));
          } else if (key.toLowerCase().valueOf() === new String("withlinks").valueOf()) {
            results.push(this.options.withLinks = parseInt(value));
          } else if (key.toLowerCase().valueOf() === new String("updateonsave").valueOf()) {
            results.push(this.options.updateOnSave = parseInt(value));
          } else if (key.toLowerCase().valueOf() === new String("orderedlist").valueOf()) {
            results.push(this.options.orderedList = parseInt(value));
          } else {
            results.push(void 0);
          }
        }
        return results;
      }
    };

    Toc.prototype.___updateLines = function() {
      if (this.editor !== void 0) {
        return this.lines = this.editor.getBuffer().getLines();
      } else {
        return this.lines = [];
      }
    };

    Toc.prototype.___createLink = function(name) {
      var hash, link;
      hash = new String(name);
      hash = hash.toLowerCase().replace(/\s/g, "-");
      hash = hash.replace(/[^a-z0-9\u4e00-\u9fa5äüö\-]/g, "");
      if (hash.indexOf("--") > -1) {
        hash = hash.replace(/(-)+/g, "-");
      }
      if (name.indexOf(":-") > -1) {
        hash = hash.replace(/:-/g, "-");
      }
      link = [];
      link.push("[");
      link.push(name);
      link.push("](#");
      link.push(hash);
      link.push(")");
      return link.join("");
    };

    return Toc;

  })();

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiL1VzZXJzL2hvdG1hbi8uYXRvbS9wYWNrYWdlcy9tYXJrZG93bi10b2MvbGliL1RvYy5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQSxNQUFBLEdBQUE7SUFBQTs7RUFBQSxNQUFNLENBQUMsT0FBUCxHQUNNO0lBR1MsYUFBQyxNQUFEO0FBQ1gsVUFBQTtNQURZLElBQUMsQ0FBQSxTQUFEO01BQ1osSUFBQyxDQUFBLEtBQUQsR0FBUztNQUNULElBQUMsQ0FBQSxJQUFELEdBQVE7TUFDUixJQUFDLENBQUEsT0FBRCxHQUNFO1FBQUEsU0FBQSxFQUFXLENBQVg7UUFDQSxPQUFBLEVBQVMsQ0FEVDtRQUVBLFNBQUEsRUFBVyxDQUZYO1FBR0EsWUFBQSxFQUFjLENBSGQ7UUFJQSxXQUFBLEVBQWEsQ0FKYjs7TUFLRixJQUFDLENBQUEsTUFBRCxDQUFBO01BRUEsRUFBQSxHQUFLO01BQ0wsSUFBQyxDQUFBLE1BQU0sQ0FBQyxTQUFSLENBQUEsQ0FBbUIsQ0FBQyxVQUFwQixDQUErQixTQUFBO1FBQzdCLElBQUcsRUFBRSxDQUFDLE9BQU8sQ0FBQyxZQUFYLEtBQTJCLENBQTlCO1VBQ0UsSUFBRyxFQUFFLENBQUMsT0FBSCxDQUFBLENBQUg7WUFDRSxFQUFFLENBQUMsVUFBSCxDQUFBO21CQUNBLEVBQUUsQ0FBQyxNQUFNLENBQUMsb0JBQVYsQ0FBK0IsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFKLEVBQVMsQ0FBVCxDQUFELEVBQWMsQ0FBQyxFQUFFLENBQUMsSUFBSixFQUFTLENBQVQsQ0FBZCxDQUEvQixFQUEyRCxFQUFFLENBQUMsVUFBSCxDQUFBLENBQTNELEVBRkY7V0FERjs7TUFENkIsQ0FBL0I7SUFaVzs7a0JBdUJiLE1BQUEsR0FBUSxTQUFBO01BQ04sSUFBRyxJQUFDLENBQUEsT0FBRCxDQUFBLENBQUg7UUFDRSxJQUFDLENBQUEsVUFBRCxDQUFBO1FBQ0EsSUFBQyxDQUFBLE1BQU0sQ0FBQyxvQkFBUixDQUE2QixDQUFDLENBQUMsSUFBQyxDQUFBLElBQUYsRUFBTyxDQUFQLENBQUQsRUFBWSxDQUFDLElBQUMsQ0FBQSxJQUFGLEVBQU8sQ0FBUCxDQUFaLENBQTdCLEVBQXFELElBQUMsQ0FBQSxVQUFELENBQUEsQ0FBckQsRUFGRjs7YUFHQSxJQUFDLENBQUEsTUFBTSxDQUFDLFVBQVIsQ0FBbUIsSUFBQyxDQUFBLFVBQUQsQ0FBQSxDQUFuQjtJQUpNOztrQkFPUixNQUFBLEdBQVEsU0FBQTtNQUNOLElBQUcsSUFBQyxDQUFBLE9BQUQsQ0FBQSxDQUFIO1FBQ0UsSUFBQyxDQUFBLFVBQUQsQ0FBQTtlQUNBLElBQUMsQ0FBQSxNQUFNLENBQUMsb0JBQVIsQ0FBNkIsQ0FBQyxDQUFDLElBQUMsQ0FBQSxJQUFGLEVBQU8sQ0FBUCxDQUFELEVBQVksQ0FBQyxJQUFDLENBQUEsSUFBRixFQUFPLENBQVAsQ0FBWixDQUE3QixFQUFxRCxJQUFDLENBQUEsVUFBRCxDQUFBLENBQXJELEVBRkY7T0FBQSxNQUFBO2VBSUUsSUFBQyxDQUFBLE1BQU0sQ0FBQyxVQUFSLENBQW1CLElBQUMsQ0FBQSxVQUFELENBQUEsQ0FBbkIsRUFKRjs7SUFETTs7bUJBUVIsUUFBQSxHQUFRLFNBQUE7TUFDTixJQUFHLElBQUMsQ0FBQSxPQUFELENBQUEsQ0FBSDtlQUNFLElBQUMsQ0FBQSxVQUFELENBQUEsRUFERjs7SUFETTs7a0JBS1IsUUFBQSxHQUFVLFNBQUE7TUFDUixJQUFHLElBQUMsQ0FBQSxPQUFELENBQUEsQ0FBSDtRQUNFLElBQUMsQ0FBQSxVQUFELENBQUE7ZUFDQSxJQUFDLENBQUEsTUFBTSxDQUFDLG9CQUFSLENBQTZCLENBQUMsQ0FBQyxJQUFDLENBQUEsSUFBRixFQUFPLENBQVAsQ0FBRCxFQUFZLENBQUMsSUFBQyxDQUFBLElBQUYsRUFBTyxDQUFQLENBQVosQ0FBN0IsRUFBcUQsSUFBQyxDQUFBLFVBQUQsQ0FBQSxDQUFyRCxFQUZGOztJQURROztrQkFVVixPQUFBLEdBQVMsU0FBQTtBQUNQLFVBQUE7TUFBQSxJQUFDLENBQUEsY0FBRCxDQUFBO01BRUEsSUFBRyxJQUFDLENBQUEsS0FBSyxDQUFDLE1BQVAsR0FBZ0IsQ0FBbkI7UUFDRSxJQUFDLENBQUEsSUFBRCxHQUFRO1FBQ1IsSUFBQyxDQUFBLEtBQUQsR0FBUztRQUNULE9BQUEsR0FBVTtBQUVWLGFBQUEsZUFBQTtVQUNFLElBQUEsR0FBTyxJQUFDLENBQUEsS0FBTSxDQUFBLENBQUE7VUFDZCxJQUFHLElBQUMsQ0FBQSxJQUFELEtBQVMsS0FBWjtZQUNFLElBQUcsSUFBSSxDQUFDLEtBQUwsQ0FBVyx1QkFBWCxDQUFIO2NBQ0UsSUFBQyxDQUFBLElBQUQsR0FBUSxRQUFBLENBQVMsQ0FBVDtjQUNSLE9BQUEsR0FBVSxLQUZaO2FBREY7V0FBQSxNQUFBO1lBS0UsSUFBRyxJQUFJLENBQUMsS0FBTCxDQUFXLHlCQUFYLENBQUg7Y0FDRSxJQUFDLENBQUEsS0FBRCxHQUFTLFFBQUEsQ0FBUyxDQUFUO0FBQ1Qsb0JBRkY7YUFMRjs7QUFGRjtRQVdBLElBQUcsSUFBQyxDQUFBLElBQUQsS0FBVyxLQUFYLElBQXFCLElBQUMsQ0FBQSxLQUFELEtBQVksS0FBcEM7VUFDRSxJQUFHLE9BQUEsS0FBYSxNQUFoQjtZQUNFLElBQUMsQ0FBQSxlQUFELENBQWlCLE9BQWpCO0FBQ0EsbUJBQU8sS0FGVDtXQURGO1NBaEJGOztBQW9CQSxhQUFPO0lBdkJBOztrQkE0QlQsVUFBQSxHQUFZLFNBQUE7QUFDVixVQUFBO01BQUEsSUFBQyxDQUFBLFlBQUQsQ0FBQTtNQUNBLElBQUcsTUFBTSxDQUFDLElBQVAsQ0FBWSxJQUFDLENBQUEsSUFBYixDQUFrQixDQUFDLE1BQW5CLEdBQTRCLENBQS9CO1FBQ0UsSUFBQSxHQUFPO1FBQ1AsSUFBSSxDQUFDLElBQUwsQ0FBVSxxQkFBQSxHQUFzQixJQUFDLENBQUEsT0FBTyxDQUFDLFNBQS9CLEdBQXlDLFdBQXpDLEdBQXFELElBQUMsQ0FBQSxPQUFPLENBQUMsT0FBOUQsR0FBc0UsYUFBdEUsR0FBb0YsSUFBQyxDQUFBLE9BQU8sQ0FBQyxTQUE3RixHQUF1RyxnQkFBdkcsR0FBd0gsSUFBQyxDQUFBLE9BQU8sQ0FBQyxZQUFqSSxHQUE4SSxlQUE5SSxHQUE4SixJQUFDLENBQUEsT0FBTyxDQUFDLFdBQXZLLEdBQW1MLFFBQTdMO1FBQ0EsSUFBQSxHQUFPLElBQUMsQ0FBQSxZQUFELENBQUE7UUFDUCxJQUFHLElBQUEsS0FBVSxLQUFiO1VBQ0UsS0FBSyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsS0FBckIsQ0FBMkIsSUFBM0IsRUFBaUMsSUFBakMsRUFERjs7UUFFQSxJQUFJLENBQUMsSUFBTCxDQUFVLGlCQUFWO0FBQ0EsZUFBTyxJQUFJLENBQUMsSUFBTCxDQUFVLElBQVYsRUFQVDs7QUFRQSxhQUFPO0lBVkc7O2tCQWFaLFVBQUEsR0FBWSxTQUFBO2FBQ1YsSUFBQyxDQUFBLE1BQU0sQ0FBQyxvQkFBUixDQUE2QixDQUFDLENBQUMsSUFBQyxDQUFBLElBQUYsRUFBTyxDQUFQLENBQUQsRUFBWSxDQUFDLElBQUMsQ0FBQSxLQUFGLEVBQVEsRUFBUixDQUFaLENBQTdCLEVBQXVELEVBQXZEO0lBRFU7O2tCQVFaLFlBQUEsR0FBYyxTQUFBO0FBQ1osVUFBQTtNQUFBLElBQUMsQ0FBQSxjQUFELENBQUE7TUFDQSxJQUFDLENBQUEsSUFBRCxHQUFRO0FBQ1I7V0FBQSxlQUFBO1FBQ0UsSUFBQSxHQUFPLElBQUMsQ0FBQSxLQUFNLENBQUEsQ0FBQTtRQUNkLE1BQUEsR0FBUyxJQUFJLENBQUMsS0FBTCxDQUFXLFVBQVg7UUFDVCxJQUFHLE1BQUg7VUFDRSxTQUFBLEdBQWUsSUFBQyxDQUFBLE9BQU8sQ0FBQyxTQUFULEtBQXdCLE1BQTNCLEdBQTBDLElBQUMsQ0FBQSxPQUFPLENBQUMsU0FBbkQsR0FBa0U7VUFDOUUsT0FBQSxHQUFhLElBQUMsQ0FBQSxPQUFPLENBQUMsT0FBVCxLQUFzQixNQUF6QixHQUF3QyxJQUFDLENBQUEsT0FBTyxDQUFDLE9BQWpELEdBQThEO1VBQ3hFLElBQUcsQ0FBQyxNQUFPLENBQUEsQ0FBQSxDQUFFLENBQUMsTUFBVixJQUFvQixRQUFBLENBQVMsT0FBVCxDQUFyQixDQUFBLElBQTJDLENBQUMsTUFBTyxDQUFBLENBQUEsQ0FBRSxDQUFDLE1BQVYsSUFBb0IsUUFBQSxDQUFTLFNBQVQsQ0FBckIsQ0FBOUM7eUJBQ0UsSUFBQyxDQUFBLElBQUksQ0FBQyxJQUFOLENBQ0U7Y0FBQSxLQUFBLEVBQU8sTUFBTyxDQUFBLENBQUEsQ0FBRSxDQUFDLE1BQWpCO2NBQ0EsSUFBQSxFQUFNLElBQUksTUFBSixDQUFXLElBQVgsQ0FETjthQURGLEdBREY7V0FBQSxNQUFBO2lDQUFBO1dBSEY7U0FBQSxNQUFBOytCQUFBOztBQUhGOztJQUhZOztrQkFnQmQsWUFBQSxHQUFjLFNBQUE7QUFDWixVQUFBO01BQUEsSUFBQSxHQUFPO01BQ1AsU0FBQSxHQUFlLElBQUMsQ0FBQSxPQUFPLENBQUMsU0FBVCxLQUF3QixNQUEzQixHQUEwQyxJQUFDLENBQUEsT0FBTyxDQUFDLFNBQW5ELEdBQWtFO01BQzlFLE9BQUEsR0FBYSxJQUFDLENBQUEsT0FBTyxDQUFDLE9BQVQsS0FBc0IsTUFBekIsR0FBd0MsSUFBQyxDQUFBLE9BQU8sQ0FBQyxPQUFqRCxHQUE4RDtNQUN4RSxjQUFBLEdBQWlCLEtBQUssQ0FBQyxLQUFOLENBQVksSUFBWixFQUFrQixJQUFJLEtBQUosQ0FBVSxPQUFBLEdBQVUsU0FBcEIsQ0FBbEIsQ0FBaUQsQ0FBQyxHQUFsRCxDQUFzRCxNQUFNLENBQUMsU0FBUyxDQUFDLE9BQXZFLEVBQWdGLENBQWhGO0FBQ2pCO0FBQUEsV0FBQSxRQUFBOzs7UUFDRSxHQUFBLEdBQU07QUFDTixhQUFXLG1IQUFYO2NBQXdDLEdBQUEsR0FBTTtZQUM1QyxHQUFHLENBQUMsSUFBSixDQUFTLElBQVQ7O0FBREY7UUFFQSxJQUFHLElBQUMsQ0FBQSxPQUFPLENBQUMsV0FBVCxLQUF3QixDQUEzQjtVQUNFLEdBQUcsQ0FBQyxJQUFKLENBQVMsRUFBRSxjQUFlLENBQUEsSUFBSSxDQUFDLEtBQUwsR0FBVyxDQUFYLENBQWpCLEdBQWlDLElBQTFDO1VBQ0EsY0FBQSxHQUFpQixjQUFjLENBQUMsR0FBZixDQUFtQixTQUFDLEtBQUQsRUFBUSxLQUFSO1lBQWtCLElBQUcsS0FBQSxHQUFRLElBQUksQ0FBQyxLQUFoQjtxQkFBMkIsTUFBM0I7YUFBQSxNQUFBO3FCQUFzQyxFQUF0Qzs7VUFBbEIsQ0FBbkIsRUFGbkI7U0FBQSxNQUFBO1VBSUUsR0FBRyxDQUFDLElBQUosQ0FBUyxJQUFULEVBSkY7O1FBTUEsSUFBQSxHQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBVixDQUFpQixJQUFJLENBQUMsS0FBdEI7UUFDUCxJQUFBLEdBQU8sSUFBSSxDQUFDLElBQUwsQ0FBQTtRQUNQLElBQUcsSUFBQyxDQUFBLE9BQU8sQ0FBQyxTQUFULEtBQXNCLENBQXpCO1VBQ0UsR0FBRyxDQUFDLElBQUosQ0FBUyxJQUFDLENBQUEsYUFBRCxDQUFlLElBQWYsQ0FBVCxFQURGO1NBQUEsTUFBQTtVQUdFLEdBQUcsQ0FBQyxJQUFKLENBQVMsSUFBVCxFQUhGOztRQUtBLElBQUksQ0FBQyxJQUFMLENBQVUsR0FBRyxDQUFDLElBQUosQ0FBUyxFQUFULENBQVY7QUFqQkY7TUFrQkEsSUFBRyxJQUFJLENBQUMsTUFBTCxHQUFjLENBQWpCO0FBQ0UsZUFBTyxLQURUOztBQUVBLGFBQU87SUF6Qks7O2tCQTRCZCxlQUFBLEdBQWlCLFNBQUMsSUFBRDtBQUNmLFVBQUE7TUFBQSxPQUFBLEdBQVUsSUFBSSxDQUFDLEtBQUwsQ0FBVyx5QkFBWDtNQUNWLElBQUcsT0FBSDtRQUNFLElBQUMsQ0FBQSxPQUFELEdBQVc7QUFDWDthQUFBLFlBQUE7VUFDRSxNQUFBLEdBQVMsT0FBUSxDQUFBLENBQUE7VUFFakIsR0FBQSxHQUFNLE1BQU0sQ0FBQyxLQUFQLENBQWEsU0FBYjtVQUNOLEdBQUEsR0FBTSxJQUFJLE1BQUosQ0FBVyxHQUFJLENBQUEsQ0FBQSxDQUFmO1VBRU4sS0FBQSxHQUFRLE1BQU0sQ0FBQyxLQUFQLENBQWEsZUFBYjtVQUNSLEtBQUEsR0FBUSxJQUFJLE1BQUosQ0FBVyxLQUFNLENBQUEsQ0FBQSxDQUFqQjtVQUNSLElBQUcsS0FBSyxDQUFDLE1BQU4sR0FBZSxDQUFsQjtZQUNFLElBQUcsS0FBSyxDQUFDLFdBQU4sQ0FBQSxDQUFtQixDQUFDLE9BQXBCLENBQUEsQ0FBQSxLQUFpQyxJQUFJLE1BQUosQ0FBVyxLQUFYLENBQWlCLENBQUMsT0FBbEIsQ0FBQSxDQUFwQztjQUNFLEtBQUEsR0FBUSxFQURWO2FBQUEsTUFBQTtjQUdFLEtBQUEsR0FBUSxFQUhWO2FBREY7O1VBTUEsSUFBRyxHQUFHLENBQUMsV0FBSixDQUFBLENBQWlCLENBQUMsT0FBbEIsQ0FBQSxDQUFBLEtBQStCLElBQUksTUFBSixDQUFXLFdBQVgsQ0FBdUIsQ0FBQyxPQUF4QixDQUFBLENBQWxDO3lCQUNFLElBQUMsQ0FBQSxPQUFPLENBQUMsU0FBVCxHQUFxQixRQUFBLENBQVMsS0FBVCxHQUR2QjtXQUFBLE1BRUssSUFBRyxHQUFHLENBQUMsV0FBSixDQUFBLENBQWlCLENBQUMsT0FBbEIsQ0FBQSxDQUFBLEtBQStCLElBQUksTUFBSixDQUFXLFNBQVgsQ0FBcUIsQ0FBQyxPQUF0QixDQUFBLENBQWxDO3lCQUNILElBQUMsQ0FBQSxPQUFPLENBQUMsT0FBVCxHQUFtQixRQUFBLENBQVMsS0FBVCxHQURoQjtXQUFBLE1BRUEsSUFBRyxHQUFHLENBQUMsV0FBSixDQUFBLENBQWlCLENBQUMsT0FBbEIsQ0FBQSxDQUFBLEtBQStCLElBQUksTUFBSixDQUFXLFdBQVgsQ0FBdUIsQ0FBQyxPQUF4QixDQUFBLENBQWxDO3lCQUNILElBQUMsQ0FBQSxPQUFPLENBQUMsU0FBVCxHQUFxQixRQUFBLENBQVMsS0FBVCxHQURsQjtXQUFBLE1BRUEsSUFBRyxHQUFHLENBQUMsV0FBSixDQUFBLENBQWlCLENBQUMsT0FBbEIsQ0FBQSxDQUFBLEtBQStCLElBQUksTUFBSixDQUFXLGNBQVgsQ0FBMEIsQ0FBQyxPQUEzQixDQUFBLENBQWxDO3lCQUNILElBQUMsQ0FBQSxPQUFPLENBQUMsWUFBVCxHQUF3QixRQUFBLENBQVMsS0FBVCxHQURyQjtXQUFBLE1BRUEsSUFBRyxHQUFHLENBQUMsV0FBSixDQUFBLENBQWlCLENBQUMsT0FBbEIsQ0FBQSxDQUFBLEtBQStCLElBQUksTUFBSixDQUFXLGFBQVgsQ0FBeUIsQ0FBQyxPQUExQixDQUFBLENBQWxDO3lCQUNILElBQUMsQ0FBQSxPQUFPLENBQUMsV0FBVCxHQUF1QixRQUFBLENBQVMsS0FBVCxHQURwQjtXQUFBLE1BQUE7aUNBQUE7O0FBdEJQO3VCQUZGOztJQUZlOztrQkFtQ2pCLGNBQUEsR0FBZ0IsU0FBQTtNQUNkLElBQUcsSUFBQyxDQUFBLE1BQUQsS0FBYSxNQUFoQjtlQUNFLElBQUMsQ0FBQSxLQUFELEdBQVMsSUFBQyxDQUFBLE1BQU0sQ0FBQyxTQUFSLENBQUEsQ0FBbUIsQ0FBQyxRQUFwQixDQUFBLEVBRFg7T0FBQSxNQUFBO2VBR0UsSUFBQyxDQUFBLEtBQUQsR0FBUyxHQUhYOztJQURjOztrQkFRaEIsYUFBQSxHQUFlLFNBQUMsSUFBRDtBQUNiLFVBQUE7TUFBQSxJQUFBLEdBQU8sSUFBSSxNQUFKLENBQVcsSUFBWDtNQUNQLElBQUEsR0FBTyxJQUFJLENBQUMsV0FBTCxDQUFBLENBQWtCLENBQUMsT0FBbkIsQ0FBMkIsS0FBM0IsRUFBa0MsR0FBbEM7TUFDUCxJQUFBLEdBQU8sSUFBSSxDQUFDLE9BQUwsQ0FBYSw4QkFBYixFQUE2QyxFQUE3QztNQUNQLElBQUcsSUFBSSxDQUFDLE9BQUwsQ0FBYSxJQUFiLENBQUEsR0FBcUIsQ0FBQyxDQUF6QjtRQUNFLElBQUEsR0FBTyxJQUFJLENBQUMsT0FBTCxDQUFhLE9BQWIsRUFBc0IsR0FBdEIsRUFEVDs7TUFFQSxJQUFHLElBQUksQ0FBQyxPQUFMLENBQWEsSUFBYixDQUFBLEdBQXFCLENBQUMsQ0FBekI7UUFDRSxJQUFBLEdBQU8sSUFBSSxDQUFDLE9BQUwsQ0FBYSxLQUFiLEVBQW9CLEdBQXBCLEVBRFQ7O01BRUEsSUFBQSxHQUFPO01BQ1AsSUFBSSxDQUFDLElBQUwsQ0FBVSxHQUFWO01BQ0EsSUFBSSxDQUFDLElBQUwsQ0FBVSxJQUFWO01BQ0EsSUFBSSxDQUFDLElBQUwsQ0FBVSxLQUFWO01BQ0EsSUFBSSxDQUFDLElBQUwsQ0FBVSxJQUFWO01BQ0EsSUFBSSxDQUFDLElBQUwsQ0FBVSxHQUFWO0FBQ0EsYUFBTyxJQUFJLENBQUMsSUFBTCxDQUFVLEVBQVY7SUFkTTs7Ozs7QUFqTWpCIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPVxuY2xhc3MgVG9jXG5cblxuICBjb25zdHJ1Y3RvcjogKEBlZGl0b3IpIC0+XG4gICAgQGxpbmVzID0gW11cbiAgICBAbGlzdCA9IFtdXG4gICAgQG9wdGlvbnMgPVxuICAgICAgZGVwdGhGcm9tOiAxICAjIGRlcHRoRnJvbVxuICAgICAgZGVwdGhUbzogNiAgIyBkZXB0aFRvXG4gICAgICB3aXRoTGlua3M6IDEgICMgd2l0aExpbmtzXG4gICAgICB1cGRhdGVPblNhdmU6IDEgIyB1cGRhdGVPblNhdmVcbiAgICAgIG9yZGVyZWRMaXN0OiAwICMgb3JkZXJlZExpc3RcbiAgICBAY3JlYXRlKClcblxuICAgIGF0ID0gQFxuICAgIEBlZGl0b3IuZ2V0QnVmZmVyKCkub25XaWxsU2F2ZSAoKSAtPlxuICAgICAgaWYgYXQub3B0aW9ucy51cGRhdGVPblNhdmUgaXMgMVxuICAgICAgICBpZiBhdC5faGFzVG9jKClcbiAgICAgICAgICBhdC5fZGVsZXRlVG9jKClcbiAgICAgICAgICBhdC5lZGl0b3Iuc2V0VGV4dEluQnVmZmVyUmFuZ2UgW1thdC5vcGVuLDBdLCBbYXQub3BlbiwwXV0sIGF0Ll9jcmVhdGVUb2MoKVxuXG5cbiAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICMgbWFpbiBtZXRob2RzIChoaWdoZXN0IGxvZ2ljIGxldmVsKVxuXG5cbiAgY3JlYXRlOiAtPlxuICAgIGlmIEBfaGFzVG9jKClcbiAgICAgIEBfZGVsZXRlVG9jKClcbiAgICAgIEBlZGl0b3Iuc2V0VGV4dEluQnVmZmVyUmFuZ2UgW1tAb3BlbiwwXSwgW0BvcGVuLDBdXSwgQF9jcmVhdGVUb2MoKVxuICAgIEBlZGl0b3IuaW5zZXJ0VGV4dCBAX2NyZWF0ZVRvYygpXG5cblxuICB1cGRhdGU6IC0+XG4gICAgaWYgQF9oYXNUb2MoKVxuICAgICAgQF9kZWxldGVUb2MoKVxuICAgICAgQGVkaXRvci5zZXRUZXh0SW5CdWZmZXJSYW5nZSBbW0BvcGVuLDBdLCBbQG9wZW4sMF1dLCBAX2NyZWF0ZVRvYygpXG4gICAgZWxzZVxuICAgICAgQGVkaXRvci5pbnNlcnRUZXh0IEBfY3JlYXRlVG9jKClcblxuXG4gIGRlbGV0ZTogLT5cbiAgICBpZiBAX2hhc1RvYygpXG4gICAgICBAX2RlbGV0ZVRvYygpXG5cblxuICBhdXRvc2F2ZTogLT5cbiAgICBpZiBAX2hhc1RvYygpXG4gICAgICBAX2RlbGV0ZVRvYygpXG4gICAgICBAZWRpdG9yLnNldFRleHRJbkJ1ZmZlclJhbmdlIFtbQG9wZW4sMF0sIFtAb3BlbiwwXV0sIEBfY3JlYXRlVG9jKClcblxuXG5cbiAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblxuICBfaGFzVG9jOiAoKSAtPlxuICAgIEBfX191cGRhdGVMaW5lcygpXG5cbiAgICBpZiBAbGluZXMubGVuZ3RoID4gMFxuICAgICAgQG9wZW4gPSBmYWxzZVxuICAgICAgQGNsb3NlID0gZmFsc2VcbiAgICAgIG9wdGlvbnMgPSB1bmRlZmluZWRcblxuICAgICAgZm9yIGkgb2YgQGxpbmVzXG4gICAgICAgIGxpbmUgPSBAbGluZXNbaV1cbiAgICAgICAgaWYgQG9wZW4gaXMgZmFsc2VcbiAgICAgICAgICBpZiBsaW5lLm1hdGNoIC9ePCEtLSguKilUT0MoLiopLS0+JC9nXG4gICAgICAgICAgICBAb3BlbiA9IHBhcnNlSW50IGlcbiAgICAgICAgICAgIG9wdGlvbnMgPSBsaW5lXG4gICAgICAgIGVsc2VcbiAgICAgICAgICBpZiBsaW5lLm1hdGNoIC9ePCEtLSguKilcXC9UT0MoLiopLS0+JC9nXG4gICAgICAgICAgICBAY2xvc2UgPSBwYXJzZUludCBpXG4gICAgICAgICAgICBicmVha1xuXG4gICAgICBpZiBAb3BlbiBpc250IGZhbHNlIGFuZCBAY2xvc2UgaXNudCBmYWxzZVxuICAgICAgICBpZiBvcHRpb25zIGlzbnQgdW5kZWZpbmVkXG4gICAgICAgICAgQF9fdXBkYXRlT3B0aW9ucyBvcHRpb25zXG4gICAgICAgICAgcmV0dXJuIHRydWVcbiAgICByZXR1cm4gZmFsc2VcblxuXG4gICMgZW1iZWQgbGlzdCB3aXRoIHRoZSBvcGVuIGFuZCBjbG9zZSBjb21tZW50OlxuICAjIDwhLS0gVE9DIC0tPiBbbGlzdF0gPCEtLSAvVE9DIC0tPlxuICBfY3JlYXRlVG9jOiAoKSAtPlxuICAgIEBfX3VwZGF0ZUxpc3QoKVxuICAgIGlmIE9iamVjdC5rZXlzKEBsaXN0KS5sZW5ndGggPiAwXG4gICAgICB0ZXh0ID0gW11cbiAgICAgIHRleHQucHVzaCBcIjwhLS0gVE9DIGRlcHRoRnJvbTpcIitAb3B0aW9ucy5kZXB0aEZyb20rXCIgZGVwdGhUbzpcIitAb3B0aW9ucy5kZXB0aFRvK1wiIHdpdGhMaW5rczpcIitAb3B0aW9ucy53aXRoTGlua3MrXCIgdXBkYXRlT25TYXZlOlwiK0BvcHRpb25zLnVwZGF0ZU9uU2F2ZStcIiBvcmRlcmVkTGlzdDpcIitAb3B0aW9ucy5vcmRlcmVkTGlzdCtcIiAtLT5cXG5cIlxuICAgICAgbGlzdCA9IEBfX2NyZWF0ZUxpc3QoKVxuICAgICAgaWYgbGlzdCBpc250IGZhbHNlXG4gICAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5IHRleHQsIGxpc3RcbiAgICAgIHRleHQucHVzaCBcIlxcbjwhLS0gL1RPQyAtLT5cIlxuICAgICAgcmV0dXJuIHRleHQuam9pbiBcIlxcblwiXG4gICAgcmV0dXJuIFwiXCJcblxuXG4gIF9kZWxldGVUb2M6ICgpIC0+XG4gICAgQGVkaXRvci5zZXRUZXh0SW5CdWZmZXJSYW5nZSBbW0BvcGVuLDBdLCBbQGNsb3NlLDE0XV0sIFwiXCJcblxuXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5cbiAgIyBwYXJzZSBhbGwgbGluZXMgYW5kIGZpbmQgbWFya2Rvd24gaGVhZGxpbmVzXG4gIF9fdXBkYXRlTGlzdDogKCkgLT5cbiAgICBAX19fdXBkYXRlTGluZXMoKVxuICAgIEBsaXN0ID0gW11cbiAgICBmb3IgaSBvZiBAbGluZXNcbiAgICAgIGxpbmUgPSBAbGluZXNbaV1cbiAgICAgIHJlc3VsdCA9IGxpbmUubWF0Y2ggL15cXCN7MSw2fS9cbiAgICAgIGlmIHJlc3VsdFxuICAgICAgICBkZXB0aEZyb20gPSBpZiBAb3B0aW9ucy5kZXB0aEZyb20gaXNudCB1bmRlZmluZWQgdGhlbiBAb3B0aW9ucy5kZXB0aEZyb20gZWxzZSAxXG4gICAgICAgIGRlcHRoVG8gPSBpZiBAb3B0aW9ucy5kZXB0aFRvIGlzbnQgdW5kZWZpbmVkIHRoZW4gQG9wdGlvbnMuZGVwdGhUbyBlbHNlIDZcbiAgICAgICAgaWYgKHJlc3VsdFswXS5sZW5ndGggPD0gcGFyc2VJbnQgZGVwdGhUbykgYW5kIChyZXN1bHRbMF0ubGVuZ3RoID49IHBhcnNlSW50IGRlcHRoRnJvbSlcbiAgICAgICAgICBAbGlzdC5wdXNoXG4gICAgICAgICAgICBkZXB0aDogcmVzdWx0WzBdLmxlbmd0aFxuICAgICAgICAgICAgbGluZTogbmV3IFN0cmluZyBsaW5lXG5cblxuICAjIGNyZWF0ZSBoaWVyYXJjaGljYWwgbWFya2Rvd24gbGlzdFxuICBfX2NyZWF0ZUxpc3Q6ICgpIC0+XG4gICAgbGlzdCA9IFtdXG4gICAgZGVwdGhGcm9tID0gaWYgQG9wdGlvbnMuZGVwdGhGcm9tIGlzbnQgdW5kZWZpbmVkIHRoZW4gQG9wdGlvbnMuZGVwdGhGcm9tIGVsc2UgMVxuICAgIGRlcHRoVG8gPSBpZiBAb3B0aW9ucy5kZXB0aFRvIGlzbnQgdW5kZWZpbmVkIHRoZW4gQG9wdGlvbnMuZGVwdGhUbyBlbHNlIDZcbiAgICBpbmRpY2VzT2ZEZXB0aCA9IEFycmF5LmFwcGx5KG51bGwsIG5ldyBBcnJheShkZXB0aFRvIC0gZGVwdGhGcm9tKSkubWFwKE51bWJlci5wcm90b3R5cGUudmFsdWVPZiwgMCk7XG4gICAgZm9yIG93biBpLCBpdGVtIG9mIEBsaXN0XG4gICAgICByb3cgPSBbXVxuICAgICAgZm9yIHRhYiBpbiBbZGVwdGhGcm9tLi5pdGVtLmRlcHRoXSB3aGVuIHRhYiA+IGRlcHRoRnJvbVxuICAgICAgICByb3cucHVzaCBcIlxcdFwiXG4gICAgICBpZiBAb3B0aW9ucy5vcmRlcmVkTGlzdCBpcyAxXG4gICAgICAgIHJvdy5wdXNoICsraW5kaWNlc09mRGVwdGhbaXRlbS5kZXB0aC0xXSArIFwiLiBcIlxuICAgICAgICBpbmRpY2VzT2ZEZXB0aCA9IGluZGljZXNPZkRlcHRoLm1hcCgodmFsdWUsIGluZGV4KSAtPiBpZiBpbmRleCA8IGl0ZW0uZGVwdGggdGhlbiB2YWx1ZSBlbHNlIDApXG4gICAgICBlbHNlXG4gICAgICAgIHJvdy5wdXNoIFwiLSBcIlxuXG4gICAgICBsaW5lID0gaXRlbS5saW5lLnN1YnN0ciBpdGVtLmRlcHRoXG4gICAgICBsaW5lID0gbGluZS50cmltKClcbiAgICAgIGlmIEBvcHRpb25zLndpdGhMaW5rcyBpcyAxXG4gICAgICAgIHJvdy5wdXNoIEBfX19jcmVhdGVMaW5rIGxpbmVcbiAgICAgIGVsc2VcbiAgICAgICAgcm93LnB1c2ggbGluZVxuXG4gICAgICBsaXN0LnB1c2ggcm93LmpvaW4gXCJcIlxuICAgIGlmIGxpc3QubGVuZ3RoID4gMFxuICAgICAgcmV0dXJuIGxpc3RcbiAgICByZXR1cm4gZmFsc2VcblxuXG4gIF9fdXBkYXRlT3B0aW9uczogKGxpbmUpIC0+XG4gICAgb3B0aW9ucyA9IGxpbmUubWF0Y2ggLyhcXHcrKD18OikoXFxkfHllc3xubykpKy9nXG4gICAgaWYgb3B0aW9uc1xuICAgICAgQG9wdGlvbnMgPSB7fVxuICAgICAgZm9yIGkgb2Ygb3B0aW9uc1xuICAgICAgICBvcHRpb24gPSBvcHRpb25zW2ldXG5cbiAgICAgICAga2V5ID0gb3B0aW9uLm1hdGNoIC9eKFxcdyspL2dcbiAgICAgICAga2V5ID0gbmV3IFN0cmluZyBrZXlbMF1cblxuICAgICAgICB2YWx1ZSA9IG9wdGlvbi5tYXRjaCAvKFxcZHx5ZXN8bm8pJC9nXG4gICAgICAgIHZhbHVlID0gbmV3IFN0cmluZyB2YWx1ZVswXVxuICAgICAgICBpZiB2YWx1ZS5sZW5ndGggPiAxXG4gICAgICAgICAgaWYgdmFsdWUudG9Mb3dlckNhc2UoKS52YWx1ZU9mKCkgaXMgbmV3IFN0cmluZyhcInllc1wiKS52YWx1ZU9mKClcbiAgICAgICAgICAgIHZhbHVlID0gMVxuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHZhbHVlID0gMFxuXG4gICAgICAgIGlmIGtleS50b0xvd2VyQ2FzZSgpLnZhbHVlT2YoKSBpcyBuZXcgU3RyaW5nKFwiZGVwdGhmcm9tXCIpLnZhbHVlT2YoKVxuICAgICAgICAgIEBvcHRpb25zLmRlcHRoRnJvbSA9IHBhcnNlSW50IHZhbHVlXG4gICAgICAgIGVsc2UgaWYga2V5LnRvTG93ZXJDYXNlKCkudmFsdWVPZigpIGlzIG5ldyBTdHJpbmcoXCJkZXB0aHRvXCIpLnZhbHVlT2YoKVxuICAgICAgICAgIEBvcHRpb25zLmRlcHRoVG8gPSBwYXJzZUludCB2YWx1ZVxuICAgICAgICBlbHNlIGlmIGtleS50b0xvd2VyQ2FzZSgpLnZhbHVlT2YoKSBpcyBuZXcgU3RyaW5nKFwid2l0aGxpbmtzXCIpLnZhbHVlT2YoKVxuICAgICAgICAgIEBvcHRpb25zLndpdGhMaW5rcyA9IHBhcnNlSW50IHZhbHVlXG4gICAgICAgIGVsc2UgaWYga2V5LnRvTG93ZXJDYXNlKCkudmFsdWVPZigpIGlzIG5ldyBTdHJpbmcoXCJ1cGRhdGVvbnNhdmVcIikudmFsdWVPZigpXG4gICAgICAgICAgQG9wdGlvbnMudXBkYXRlT25TYXZlID0gcGFyc2VJbnQgdmFsdWVcbiAgICAgICAgZWxzZSBpZiBrZXkudG9Mb3dlckNhc2UoKS52YWx1ZU9mKCkgaXMgbmV3IFN0cmluZyhcIm9yZGVyZWRsaXN0XCIpLnZhbHVlT2YoKVxuICAgICAgICAgIEBvcHRpb25zLm9yZGVyZWRMaXN0ID0gcGFyc2VJbnQgdmFsdWVcblxuXG4gICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAjIGxpZ2h0d2VpZ2h0IG1ldGhvZHNcblxuXG4gICMgdXBkYXRlIHJhdyBsaW5lcyBhZnRlciBpbml0aWFsaXphdGlvbiBvciBjaGFuZ2VzXG4gIF9fX3VwZGF0ZUxpbmVzOiAtPlxuICAgIGlmIEBlZGl0b3IgaXNudCB1bmRlZmluZWRcbiAgICAgIEBsaW5lcyA9IEBlZGl0b3IuZ2V0QnVmZmVyKCkuZ2V0TGluZXMoKVxuICAgIGVsc2VcbiAgICAgIEBsaW5lcyA9IFtdXG5cblxuICAjIGNyZWF0ZSBoYXNoIGFuZCBzdXJyb3VuZCBsaW5rIHdpdGhpdFxuICBfX19jcmVhdGVMaW5rOiAobmFtZSkgLT5cbiAgICBoYXNoID0gbmV3IFN0cmluZyBuYW1lXG4gICAgaGFzaCA9IGhhc2gudG9Mb3dlckNhc2UoKS5yZXBsYWNlIC9cXHMvZywgXCItXCJcbiAgICBoYXNoID0gaGFzaC5yZXBsYWNlIC9bXmEtejAtOVxcdTRlMDAtXFx1OWZhNcOkw7zDtlxcLV0vZywgXCJcIlxuICAgIGlmIGhhc2guaW5kZXhPZihcIi0tXCIpID4gLTFcbiAgICAgIGhhc2ggPSBoYXNoLnJlcGxhY2UgLygtKSsvZywgXCItXCJcbiAgICBpZiBuYW1lLmluZGV4T2YoXCI6LVwiKSA+IC0xXG4gICAgICBoYXNoID0gaGFzaC5yZXBsYWNlIC86LS9nLCBcIi1cIlxuICAgIGxpbmsgPSBbXVxuICAgIGxpbmsucHVzaCBcIltcIlxuICAgIGxpbmsucHVzaCBuYW1lXG4gICAgbGluay5wdXNoIFwiXSgjXCJcbiAgICBsaW5rLnB1c2ggaGFzaFxuICAgIGxpbmsucHVzaCBcIilcIlxuICAgIHJldHVybiBsaW5rLmpvaW4gXCJcIlxuIl19
